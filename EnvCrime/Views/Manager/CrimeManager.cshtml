@model IEnumerable<Employee>

@{
    Layout = "_Staff";
}

@await Component.InvokeAsync("Errand", "avdelningschef")

<section id="bottomColumn">
    <h3>Redigera ärende</h3>
    <form method="post" asp-controller="Manager" asp-action="UpdateCrime">
        <!-- onsynliga fältet nedanför används för att föra över "errandId" till motsvarande action-metoden i kontrollern
        då ViewBag inte fungerar där -->
        <input type="hidden" name="errandId" value="@ViewBag.ErrandId" />
        <p>
            Ange handläggare:
            <select name="selectedEmployeeId">
                <option selected="selected" disabled>Välj</option>
                @foreach (var employee in Model)
                {
                    <option value="@employee.EmployeeId">@employee.EmployeeName</option>
                }
            </select>
        </p>
        <p><input type="checkbox" name="noAction" value="true" /> Ingen åtgärd: <input type="text" name="reason" value="Ange motivering" /></p>
        <p><input class="button" type="submit" value="Spara" /></p>
    </form>
</section>